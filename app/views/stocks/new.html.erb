
<h2 class="text-center p-5">Add a Stock</h2>
<div class="broker-form">
  <%= simple_form_for [@stock] do |f| %>
    <%= f.input :name, placeholder: 'Apple', class: "input" %>
    <%= f.input :symbol, placeholder: 'AAPL', class: "input" %>
    <%= f.input :grade, placeholder: 'A', class: "input", collection: %w[A B C D E F] %>
    <%= f.input :category, placeholder: 'Technology', class: "input", collection: ["Financial", "Technology","Real Estate", "Telecommunication", "Healthcare", "Discretionary", "Staple", "Utilities", "Energy", "Basic Material", "Industrial", "Others"] %>

    <%= f.button :submit, class: 'btn btn-success rounded-btn mt-3' %>
  <% end %>
</div>

<!--<div class="container text-center p-5">-->
  <%#= form_tag import_stocks_path, multipart: true do %>
    <%#= file_field_tag :file %>
    <%#= submit_tag "Import CSV" %>
  <%# end %>
<!--</div>-->


<div class="container">
  <div class="sector-tables mt-5 mb-5">
    <div>
      <h4 class="text-center">Techonology</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <% @tech_stocks.each do |stock| %>
            <tbody class="text-white text-center">
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Financial</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </thead>
          <% @financial_stocks.each do |stock| %>
            <tbody class="text-white text-center ">
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Real Estate</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @real_estate_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Telecomm</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @telecom_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Healthcare</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @health_care_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Discretionary</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @discretionary_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Staple</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @staple_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Utilities</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @utilities_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Energy</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @energy_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Basic Material</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @basic_material_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Industrial</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @industrial_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div>
      <h4 class="text-center">Others</h4>
      <div class="scroll-tables">
        <table class="table table-striped table-dark">
          <thead class="text-center text-white">
          <tr>
            <th>Name</th>
            <th>Symbole</th>
            <th>Buy</th>
            <th>Sell</th>
          </tr>
          </thead>
          <tbody class="text-white text-center">
          <% @other_stocks.each do |stock| %>
            <tr>
              <th><%= stock.name %></th>
              <th><%= link_to stock.symbol, edit_stock_path(stock)%></th>
              <% hot_stock = HotStock.find_by(stock_id: stock) %>
              <% if hot_stock.nil? || hot_stock.date < (Date.today - 14) %>
                <th>Buy</th>
                <th>Sell</th>
              <% else %>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Buy') ? 'stock_ticker_R_hit' : 'text-white' %>">Buy</th>
                <th class="<%= HotStock.exists?(stock_id: stock, direction: 'Sell') ? 'stock_ticker_SL_hit' : 'text-white' %>">Sell</th>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

